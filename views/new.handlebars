<div class='container inter-tight-regular'>
    <h2>Add Animal</h2>
    <form id='add-animal-form' action='/animals/add' method='POST' enctype='multipart/form-data'>
        <div>
            <div class='form-group-1'>
                <label for='animal-name'>Name:</label>
                <input type='text' id='animal-name' name='animal-name' required>

                <label for='animal-chip'>Microchip:</label>
                <input type='text' id='animal-chip' name='animal-chip'>
            </div>

            <div class='columns'>
                <div class='form-group-2'>
                    <div class='drop-list'>
                        <label for='animal-species'>Species: </label>
                            <select name='animal-species'>
                            <option>dog</option>
                            <option>cat</option>
                        </select>
                    </div>

                    <div class='drop-list'>
                        <label for='animal-breed'>Breed:</label>
                        <select name='animal-breed'>
                            <option>bulldog</option>
                            <option>calico</option>
                            <option>tabby</option>
                            <option>dachschund</option>
                            <option>Siamese</option>
                            <option>retriever</option>
                        </select>
                    </div>

                    <div class='radio-check-group'>
                        <label for='animal-sex'>Sex:</label>
                        <div class='radio-list'>
                            <input type='radio' id='female' name='animal-sex' value='female' checked />
                            <label for='female'>female</label>
                        </div>
                        <div class='radio-list'>
                            <input type='radio' id='male' name='animal-sex' value='male' />
                            <label for='radio'>male</label>
                        </div>
                    </div>

                    <div class='radio-check-group'>
                        <label for='animal-altered-yes'>Altered:</label>
                        <div class='radio-list'>
                            <input type='radio' id='animal-altered-yes' name='animal-altered' value='yes' checked />
                            <label for='yes'>yes</label>
                        </div>
                        <div class='radio-list'>
                            <input type='radio' id='animal-altered-no' name='animal-altered' value='no' />
                            <label for='radio'>no</label>
                        </div>
                    </div>
                </div>
                    
                <div class='form-group-3'>
                    <div class='drop-list'>
                        <label for='animal-color'>Color:</label>
                        <select name='animal-breed'>
                            <option>black</option checked>
                            <option>white</option>
                            <option>gray</option>
                            <option>brown</option>
                            <option>yellow</option>
                            <option>orange</option>
                            <option>brindle</option>
                        </select>
                    </div>

                    <div class='radio-check-group'>
                        <label for='animal-behavior'>Behavior Issues:</label>
                        <div class='checkbox-list'>
                            <input type='checkbox' id='animal-aggression' name='animal-behavior'/>
                            <label for='toy-aggression'>toy aggression</label></br>
                            <input type='checkbox' id='animal-aggression' name='animal-behavior'/>
                            <label for='animal-aggression'>animal aggression</label></br>
                            <input type='checkbox' id='not-housebroken' name='animal-behavior'/>
                            <label for='not-housebroken'>not housebroken</label>
                        </div>

                        <div>
                            <label for='kennel'>Kennel:</label>
                            <input type='text' id='kennel' name='kennel' placeholder='e.g., A5'>
                        </div>

                    </div>
                </div>
            </dif>
        </div>
        <button type='submit' id='save-button'>Save</button>
        <button type='button' id='cancel-button'>Cancel</button>
    </form>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const form = document.getElementById('add-pet-form');
    const saveButton = document.getElementById('save-button');
    const cancelButton = document.getElementById('cancel-button');

    // Handle Save button click
    saveButton.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent default form submission

        const formData = new FormData(form);

        fetch('/pets/add', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Pet added successfully!');
                form.reset(); // Reset form fields
            } else {
                alert('Error adding pet: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('There was an error with the request.');
        });
    });

    // Handle Cancel button click
    cancelButton.addEventListener('click', function() {
        form.reset(); // Reset form fields
        window.location.href = '/pets'; // Redirect to the pets list page or any other page
    });
});
</script>
